diff a/Backend/server.js b/Backend/server.js	(rejected hunks)
@@ -203,6 +203,78 @@
 //   }
 // });
 
+// app.post("/api/login", async (req, res) => {
+//   const { username, password } = req.body;
+
+//   try {
+//     if (!username || !password) {
+//       return res.status(400).json({
+//         success: false,
+//         message: "Username and password are required",
+//       });
+//     }
+
+//     // Validate username pattern
+//     const usernamePattern = /^DS\d{3}$/;
+//     if (!usernamePattern.test(username)) {
+//       return res.status(400).json({
+//         success: false,
+//         message: "Username must start with 'DS' followed by 3 digits (e.g., DS001)",
+//       });
+//     }
+
+//     // ✅ Step 1: Check username/password in admin table
+//     const adminResult = await pool.query(
+//       "SELECT id, username, password, created_at FROM admin WHERE username = $1",
+//       [username]
+//     );
+
+//     if (adminResult.rows.length === 0) {
+//       return res.status(400).json({ success: false, message: "User not found in admin table" });
+//     }
+
+//     const adminUser = adminResult.rows[0];
+
+//     // Compare password
+//     if (adminUser.password !== password) {
+//       return res.status(400).json({ success: false, message: "Invalid password" });
+//     }
+
+//     // ✅ Step 2: Fetch role from emp_details table
+//     const empResult = await pool.query(
+//       "SELECT emp_code, role, name, department FROM emp_details WHERE emp_code = $1",
+//       [username]
+//     );
+
+//     if (empResult.rows.length === 0) {
+//       return res.status(400).json({ success: false, message: "User not found in emp_details table" });
+//     }
+
+//     const empUser = empResult.rows[0];
+
+//     // Sanitize role
+//     let userRole = empUser.role?.trim().toLowerCase();
+//     if (userRole !== "admin") userRole = "employee"; // fallback
+
+//     // ✅ Successful login response
+//     return res.json({
+//       success: true,
+//       role: userRole,
+//       user: {
+//         id: adminUser.id,
+//         username: adminUser.username,
+//         emp_code: empUser.emp_code, 
+//         name: empUser.name,
+//         department: empUser.department,
+//         created_at: adminUser.created_at,
+//       },
+//     });
+//   } catch (err) {
+//     console.error("Login error:", err);
+//     res.status(500).json({ success: false, message: "Server error" });
+//   }
+// });
+
 app.post("/api/login", async (req, res) => {
   const { username, password } = req.body;
 
